import{w}from"./wait-for-b5db302f.js";(function(){const i={}.SHOPIFY_GADGET_ENV==="development"?"https://lantern--development.gadget.app/api/client/web.min.js":"https://lantern.gadget.app/api/client/web.min.js",t=document.createElement("script");t.src=i,document.body.appendChild(t);const o=(n,e)=>{window.subscribe&&window.subscribe(n,e)};window.lantern.subscribe=window.lantern&&o;const a=async()=>{const n={session:{customer:{_link:window.lantern.customer.id}},authKey:window.lantern.customer.authKey,shopId:window.lantern.shop.id};window.lantern.gadgetSession=await window.api.currentSession.login(n),window.lantern.isInitialized=!0;const e=new Event("LMLoyaltyInit");window.dispatchEvent(e)},s=async()=>{await window.api.currentSession.logout()};(async()=>{await w(()=>window.hasOwnProperty("Gadget")),window.api=new window.Gadget({environment:{}.SHOPIFY_GADGET_ENV==="development"?"Development":"Production",authenticationMode:{browserSession:!0}}),window.lantern&&window.lantern.customer&&window.lantern.customer.id?a():s()})()})();

class StickyHeader extends HTMLElement{constructor(){super()}connectedCallback(){this.header=document.getElementsByClassName("section-header")[0],this.headerBounds={},this.currentScrollTop=0,this.preventReveal=!1,this.predictiveSearch=this.querySelector("predictive-search"),this.onScrollHandler=this.onScroll.bind(this),this.hideHeaderOnScrollUp=()=>{this.preventReveal=!0},this.addEventListener("preventHeaderReveal",this.hideHeaderOnScrollUp),window.addEventListener("scroll",this.onScrollHandler,!1),this.createObserver()}disconnectedCallback(){this.removeEventListener("preventHeaderReveal",this.hideHeaderOnScrollUp),window.removeEventListener("scroll",this.onScrollHandler)}createObserver(){new IntersectionObserver((entries,observer2)=>{this.headerBounds=entries[0].intersectionRect,observer2.disconnect()}).observe(this.header)}onScroll(){if(this.preventReveal)return;const scrollTop=window.pageYOffset||document.documentElement.scrollTop;if(!(this.predictiveSearch&&this.predictiveSearch.isOpen)){if(scrollTop>this.currentScrollTop&&scrollTop>this.headerBounds.bottom){if(this.preventHide)return;requestAnimationFrame(this.hide.bind(this))}else scrollTop<this.currentScrollTop&&scrollTop>this.headerBounds.bottom?this.preventReveal?(window.clearTimeout(this.isScrolling),this.isScrolling=setTimeout(()=>{this.preventReveal=!1},66),requestAnimationFrame(this.hide.bind(this))):requestAnimationFrame(this.reveal.bind(this)):scrollTop<=this.headerBounds.top&&requestAnimationFrame(this.reset.bind(this));this.currentScrollTop=scrollTop}}hide(){this.header.classList.add("shopify-section-header-hidden","shopify-section-header-sticky"),document.body.classList.remove("sticky-header-margins"),this.closeMenuDisclosure(),this.closeSearchModal()}reveal(){this.header.classList.add("shopify-section-header-sticky","animate"),document.body.classList.add("sticky-header-margins"),this.header.classList.remove("shopify-section-header-hidden")}reset(){this.header.classList.remove("shopify-section-header-hidden","shopify-section-header-sticky","animate"),document.body.classList.remove("sticky-header-margins")}closeMenuDisclosure(){this.disclosures=this.disclosures||this.header.querySelectorAll("header-menu"),this.disclosures.forEach(disclosure=>disclosure.close())}closeSearchModal(){this.searchModal=this.searchModal||this.header.querySelector("details-modal"),this.searchModal.close(!1)}}customElements.define("sticky-header",StickyHeader);
//# sourceMappingURL=/cdn/shop/t/169/assets/sticky-header.js.map?v=171677581198036991301692213689
